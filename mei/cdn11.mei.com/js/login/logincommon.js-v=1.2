var loginbaseUrl=$("#contextPath").val();String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};function getCookie(e){var d=document.cookie;var b=d.indexOf(e);if(b!=-1){b+=e.length+1;var c=d.indexOf(";",b);if(c==-1){c=d.length}var a=unescape(d.substring(b,c))}return a}$().ready(function(){$("#rdm").click();$(".login_content").find("input:text").focus(function(){$(this).css("color","#454545")});getLoginImageMessage()});function getLoginImageMessage(){$.ajax({type:"post",datatype:"json",async:false,url:$("#contextPath").val()+"/home/getImageMessage",data:{imageType:"login1"},success:function(b){var a="../../images/login/img_ren.png"/*tpa=http://cdn11.mei.com/images/login/img_ren.png*/;if(b.errorNum=="0"){if(b.image==""){$(".login_container").css("background","url("+a+") no-repeat")}else{$(".login_container").css("background","url("+b.image+") no-repeat")}}else{$(".login_container").css("background","url("+a+") no-repeat")}},error:function(){}})}function getRandom(a){$("#rdm").attr("src",a+"/user/getRandom?"+Math.random())}function getResetRandom(a,b){$("#rdm").attr("src",a+"/user/getRandom?"+Math.random());$(b).val("")}function AccountIsHad(a){str_result="no";return str_result}function toSendSMS(b){$.ajax({type:"post",datatype:"json",async:false,url:loginbaseUrl+"/user/getPhoneValidateCode",success:function(e){},error:function(){str_reuslt="fail"}});var d=$("#userAccount").val();var a=$("#randomTelCheckCode").val();var c=$("#randomImg").val();$.ajax({type:"post",datatype:"json",async:false,url:loginbaseUrl+"/user/toSendSMS",success:function(f){var e=f.result;$("#randomTelCheckCode").val(f.randomTelCheckCode);if(e==="nosendImg"){$("#rdm_img").find("#Rdm_error").text("请输入正确的验证码")}else{if(e==="noTel"){$("#Act_error").text("该手机号未注册")}else{if(e==="yesTel"){$("#Act_error").text("该手机号已注册")}else{start()}}}},error:function(){str_reuslt="fail"},data:{tel_no:d,sendtype:b,randomTelCheckCode:a,randomImg:c}})}function toSendOtherSMS(c){start();$.ajax({type:"post",datatype:"json",async:false,url:loginbaseUrl+"/user/getPhoneValidateCode",success:function(e){},error:function(){str_reuslt="fail"}});var a=null;var d=$("#userAccount").val();var b=$("#randomTelCheckCode").val();$.ajax({type:"post",datatype:"json",async:false,url:loginbaseUrl+"/user/toSendOtherSMS",success:function(e){a=e.result;$("#randomTelCheckCode").val(e.randomTelCheckCode)},error:function(){str_reuslt="fail"},data:{tel_no:d,sendtype:c,randomTelCheckCode:b}})}function tosendMessage(a){$.ajax({type:"post",datatype:"json",async:false,url:loginbaseUrl+"/user/tosendEmail",success:function(b){},error:function(){str_result="fail"},data:{registNo:a}})}function checkRandom(d,c){var b=$("#is_check_code_show").val();if(d===""||d===null){var a=$("#rdm_img").attr("class");if(c==="random"&&b==="1"){$("#rdm_img").find("#Rdm_error").text("请输入验证码")}else{if(c==="random1"){$("#rdm_tel").find("#Rdm_error").text("请输入您收到的短信验证码")}else{if(a==="showstyle"){$("#rdm_img").find("#Rdm_error").text("请输入验证码")}else{$("#rdm_tel").find("#Rdm_error").text("请输入您收到的短信验证码")}}}return false}else{if(b==="1"){var e=d;if(e.length===6||e.length===5||e.length===4){$("#rdm_tel").find("#Rdm_error").text("");var f=null;$.ajax({type:"post",datatype:"json",async:false,url:loginbaseUrl+"/user/toCheckRandom",success:function(g){f=g.result},error:function(){f="fail"},data:{random:d}});if(f==="yes"){var a=$("#rdm_img").attr("class");if(c==="random"){$("#rdm_img").find("#Rdm_error").text("")}else{if(c==="random1"){$("#rdm_tel").find("#Rdm_error").text("")}else{if(a==="showstyle"){$("#rdm_img").find("#Rdm_error").text("")}else{$("#rdm_tel").find("#Rdm_error").text("")}}}return true}else{var a=$("#rdm_img").attr("class");if(c==="random"){$("#rdm_img").find("#Rdm_error").text("请输入正确的验证码")}else{if(c==="random1"){$("#rdm_tel").find("#Rdm_error").text("请输入正确的验证码")}else{if(a==="showstyle"){$("#rdm_img").find("#Rdm_error").text("请输入正确的验证码")}else{$("#rdm_tel").find("#Rdm_error").text("请输入正确的验证码")}}}return false}}else{var a=$("#rdm_img").attr("class");if(c==="random"){$("#rdm_img").find("#Rdm_error").text("请输入正确的验证码")}else{if(c==="random1"){$("#rdm_tel").find("#Rdm_error").text("请输入正确的验证码")}else{if(a==="showstyle"){$("#rdm_img").find("#Rdm_error").text("请输入正确的验证码")}else{$("#rdm_tel").find("#Rdm_error").text("请输入正确的验证码")}}}return false}}return true}}function checkRPassword(a,b){if(a===""||a===null){$("#RPwd_error").text("请重复输入您的密码");return false}else{if(a===b){$("#RPwd_error").text("");return true}else{$("#RPwd_error").text("密码和确认密码不一致，请重新输入");return false}}}function CharMode(a){if(a>=48&&a<=57){return 1}if(a>=65&&a<=90){return 2}if(a>=97&&a<=122){return 4}else{return 8}}function bitTotal(a){var b=0;for(i=0;i<4;i++){if(a&1){b++}a>>>=1}return b}function checkStrong(f){var d=0;var c=0;var e=0;var g=0;var b=0;for(i=0;i<f.length;i++){d=CharMode(f.charCodeAt(i));switch(d){case 1:e++;break;case 2:b++;break;case 4:c++;break;case 8:g++;break}}var a=0;if((e>0&&c===0&&g===0&&b===0)||(e===0&&c>0&&g===0&&b===0)||(e===0&&c===0&&g>0&&b===0)||(e===0&&c===0&&g===0&&b>0)){a=0}else{if((e>0&&c>0&&g===0&&b===0)||(e>0&&g>0&&c===0&&b===0)||(c>0&&g>0&&e===0&&b===0)||(c===0&&g===0&&e>0&&b>0)||(c>0&&g===0&&e===0&&b>0)||(c===0&&g>0&&e===0&&b>0)){a=1}else{if((e>0&&c>0&&g>0&&b===0)||(e===0&&c>0&&g>0&&b>0)||(e>0&&c===0&&g>0&&b>0)||(e>0&&c>0&&g===0&&b>0)||(e>0&&c>0&&g>0&&b>0)){a=2}}}return a}function pwStrength(b){checkPassWord(b,"regist");if(b.length>0){$("#lowMHight").removeClass("hidstyle");$("#lowMHight").addClass("showstyle")}else{$("#lowMHight").addClass("hidstyle");$("#lowMHight").removeClass("showstyle")}var a=checkStrong(b);switch(a){case 0:if(b.length===6){$("#lowPwd").text("密码较弱，建议设置多种字符组成的复杂密码")}$("#low").css("background-color","#000");$("#middle").css("background-color","#929292");$("#height").css("background-color","#929292");break;case 1:$("#lowPwd").text("");$("#low").css("background-color","#000");$("#middle").css("background-color","#000");$("#height").css("background-color","#929292");break;case 2:$("#lowPwd").text("");$("#low").css("background-color","#000");$("#middle").css("background-color","#000");$("#height").css("background-color","#000");break;default:$("#lowPwd").text("");$("#low").css("background-color","#000");$("#middle").css("background-color","#000");$("#height").css("background-color","#000");break}return}var wait=60;function time(){if(wait===0){$(".rsendRandm").addClass("showstyle");$(".rsendRandm").removeClass("hidstyle");$(".sendRandm").addClass("hidstyle");$(".sendRandm").removeClass("showstyle");$(".ma").addClass("hidstyle");$(".ma").removeClass("showinline");wait=60}else{$(".sendRandm").addClass("hidstyle");$(".sendRandm").removeClass("showstyle");$(".rsendRandm").removeClass("showstyle");$(".rsendRandm").addClass("hidstyle");$(".ma").addClass("showinline");$(".ma").removeClass("hidstyle");$(".times").text(wait);wait--;setTimeout(function(){time()},1000)}}function start(){time()}function Setcookie(a,c){var b=new Date();b.setTime(b.getTime()+365*24*60*60*1000);document.cookie=a+"="+c+";expires="+b.toGMTString()+";path=/"}function doubleCheck(){alert();return false}String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};var base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var base64DecodeChars=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function base64encode(g){var c,e,a;var f,d,b;a=g.length;e=0;c="";while(e<a){f=g.charCodeAt(e++)&255;if(e==a){c+=base64EncodeChars.charAt(f>>2);c+=base64EncodeChars.charAt((f&3)<<4);c+="==";break}d=g.charCodeAt(e++);if(e==a){c+=base64EncodeChars.charAt(f>>2);c+=base64EncodeChars.charAt(((f&3)<<4)|((d&240)>>4));c+=base64EncodeChars.charAt((d&15)<<2);c+="=";break}b=g.charCodeAt(e++);c+=base64EncodeChars.charAt(f>>2);c+=base64EncodeChars.charAt(((f&3)<<4)|((d&240)>>4));c+=base64EncodeChars.charAt(((d&15)<<2)|((b&192)>>6));c+=base64EncodeChars.charAt(b&63)}return c}function base64decode(h){var g,f,d,b;var e,a,c;a=h.length;e=0;c="";while(e<a){do{g=base64DecodeChars[h.charCodeAt(e++)&255]}while(e<a&&g==-1);if(g==-1){break}do{f=base64DecodeChars[h.charCodeAt(e++)&255]}while(e<a&&f==-1);if(f==-1){break}c+=String.fromCharCode((g<<2)|((f&48)>>4));do{d=h.charCodeAt(e++)&255;if(d==61){return c}d=base64DecodeChars[d]}while(e<a&&d==-1);if(d==-1){break}c+=String.fromCharCode(((f&15)<<4)|((d&60)>>2));do{b=h.charCodeAt(e++)&255;if(b==61){return c}b=base64DecodeChars[b]}while(e<a&&b==-1);if(b==-1){break}c+=String.fromCharCode(((d&3)<<6)|b)}return c}function goldlogRecord(a,d,c,b){if(typeof(goldlog)=="object"){goldlog.record(a,d,c,b)}};